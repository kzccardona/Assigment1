CREATE TABLE ANDROIDPAY(
ID INT PRIMARY KEY,
IDACCOUNT INT,
EMAIL VARCHAR2(255)
);

CREATE TABLE CREDITCARDS(
ID INT PRIMARY KEY,
IDACCOUNT INT,
IDCOUNTRIES INT,
CARDNUMBER VARCHAR2(255),
EXPIRE DATE,
CODECVV VARCHAR2(255),
ZIPCODE
);

CREATE TABLE DEBITCARDS(
ID INT PRIMARY KEY,
IDACCOUNT INT,
IDCOUNTRIES INT,
CARDNUMBER VARCHAR2(255),
EXPIRE DATE,
CODECVV VARCHAR2(255),
ZIPCODE
);

CREATE TABLE PAYPAL(
ID INT PRIMARY KEY,
IDACCOUNT INT
);

CREATE TABLE PAYMENTS_METHODS(
ID INT PRIMARY KEY,
IDACCOUNT INT,
IDANDROIDPAY INT,
IDCREDITCARDS INT,
IDDEBITCARDS INT,
IDPAYPAL INT
);

CREATE TABLE USER_COUPONS(
ID INT PRIMARY KEY,
IDCOUPON INT,
IDPROFILE INT
);

CREATE TABLE COUPONS(
ID INT PRIMARY KEY,
IDPROFILE INT,
CODE VARCHAR2(255)
);

CREATE TABLE LANGUAGES(
ID INT PRIMARY KEY,
NAME VARCHAR2(255)
);


CREATE SEQUENCE ANDROIDPAY_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;
CREATE SEQUENCE CREDITCARDS_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;
CREATE SEQUENCE DEBITCARDS_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;
CREATE SEQUENCE PAYPAL_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;
CREATE SEQUENCE PAYMENTS_METHODS_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;
CREATE SEQUENCE USER_COUPONS_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;
CREATE SEQUENCE COUPONS_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;
CREATE SEQUENCE LANGUAGES_SEQ
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;


ALTER TABLE ANDROIDPAY
ADD CONSTRAINT FKIDACCOUNT
   FOREIGN KEY (IDACCOUNT)
   REFERENCES USERS(ID); --LA TABLA A LA QUE HACE REFERENCIA Y EL CAMPO

ALTER TABLE CREDITCARDS
ADD CONSTRAINT FKIDACCOUNT
   FOREIGN KEY (IDACCOUNT)
   REFERENCES USERS(ID);

ALTER TABLE CREDITCARDS
ADD CONSTRAINT FKIDCOUNTRIES 
   FOREIGN KEY (IDCOUNTRIES)
   REFERENCES USERS(ID);

ALTER TABLE DEBITCARDS
ADD CONSTRAINT FKIDACCOUNT
   FOREIGN KEY (IDACCOUNT)
   REFERENCES USERS(ID);

ALTER TABLE DEBITCARDS
ADD CONSTRAINT FKIDCOUNTRIES 
   FOREIGN KEY (IDCOUNTRIES)
   REFERENCES USERS(ID);

ALTER TABLE PAYPAL
ADD CONSTRAINT FKIDACCOUNT
   FOREIGN KEY (IDACCOUNT)
   REFERENCES USERS(ID);

ALTER TABLE PAYMENTS_METHODS
ADD CONSTRAINT FKIDACCOUNT
   FOREIGN KEY (IDACCOUNT)
   REFERENCES USERS(ID);

ALTER TABLE PAYMENTS_METHODS
ADD CONSTRAINT FKIDANDROIDPAY
   FOREIGN KEY (IDANDROIDPAY)
   REFERENCES ANDROIDPAY(ID);

ALTER TABLE PAYMENTS_METHODS
ADD CONSTRAINT FKIDCREDITCARDS
   FOREIGN KEY (IDCREDITCARDS)
   REFERENCES CREDITCARDS(ID);

ALTER TABLE PAYMENTS_METHODS
ADD CONSTRAINT FKIDDEBITCARDS
   FOREIGN KEY (IDDEBITCARDS)
   REFERENCES DEBITCARDS(ID);

ALTER TABLE PAYMENTS_METHODS
ADD CONSTRAINT FKIDPAYPAL
   FOREIGN KEY (IDPAYPAL)
   REFERENCES PAYPAL(ID);

ALTER TABLE USER_COUPONS
ADD CONSTRAINT FKIDCOUPON 
   FOREIGN KEY (IDCOUPON)
   REFERENCES COUPONS(ID);

ALTER TABLE USER_COUPONS
ADD CONSTRAINT FKIDPROFILE 
   FOREIGN KEY (IDPROFILE)
   REFERENCES USERS(ID);

CREATE TABLE VEHICLES
(
 id int PRIMARY KEY
,brand varchar2(255)
,model varchar2(255)
,year date
,type_of_vehicle_id int
,engine int
,owner_id int
,type_of_service_id int
,vehicle_plate varchar2(255)
);

CREATE TABLE OWNERS
(
 id int PRIMARY KEY
,name varchar2(255)
,last_name varchar2(255)
,identification int
,cell_number int
,email varchar2(255)
,language_id int
,country_id
);

CREATE TABLE DRIVERS
(
 id int PRIMARY KEY
,name varchar2(255)
,last_name varchar2(255)
,identification int
,cell_number varchar2(255)
,email varchar2(255)
,license varchar2(255)
,language_id int
,country_id
);

CREATE TABLE TYPE_OF_VEHICLES
(
 id int PRIMARY KEY
,description varchar2(255)
);

CREATE TABLE TYPE_OF_SERVICES
(
 id int PRIMARY KEY
,description varchar2(255)
);

CREATE TABLE BANKS
(
 id int PRIMARY KEY
,code int
,Name varchar2(255)
);

CREATE TABLE BANK_OWNERS
(
 id int PRIMARY KEY
,owner_id INT
,bank_id INT
,number_account varchar2(255)
,type_of_account varchar2(255)
);

CREATE TABLE VEHICLES_DRIVERS
(
 id int PRIMARY KEY
,vehicle_id INT
,driver_id INT
,observations varchar2(255)
);

CREATE TABLE COINS
(
 id int PRIMARY KEY
,Name varchar2(255)
,abbreviation varchar2(255)
);

CREATE SEQUENCE vehicles_seq
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;


CREATE SEQUENCE owners_seq
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;

CREATE SEQUENCE drivers_seq
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;


CREATE SEQUENCE type_of_vehicles_seq
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;


CREATE SEQUENCE type_of_services_seq
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;


CREATE SEQUENCE banks_seq
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;


CREATE SEQUENCE bank_owners_seq
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;


CREATE SEQUENCE vehicle_drivers_seq
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;

CREATE SEQUENCE coins_seq
  START WITH 1
  INCREMENT BY 1
  NOCYCLE;


ALTER TABLE VEHICLES
ADD CONSTRAINT FK_TYPE_OF_VEHICLE_ID
   FOREIGN KEY (type_of_vehicle_id)
   REFERENCES TYPE_OF_VEHICLES(id);

ALTER TABLE VEHICLES
ADD CONSTRAINT FK_OWNER_ID
   FOREIGN KEY (owner_id)
   REFERENCES TYPE_OF_CARS(id);

ALTER TABLE VEHICLES
ADD CONSTRAINT FK_TYPE_OF_SERVICE_ID
   FOREIGN KEY (type_of_service_id)
   REFERENCES TYPE_OF_SERVICES(id);

ALTER TABLE OWNERS
ADD CONSTRAINT FK_LANGUAGE_ID
   FOREIGN KEY (language_id)
   REFERENCES LANGUAGES(id);

ALTER TABLE OWNERS
ADD CONSTRAINT FK_COUNTRY_ID
   FOREIGN KEY (country_id)
   REFERENCES COUNTRIES(id);

ALTER TABLE DRIVERS
ADD CONSTRAINT FK_LANGUAGE_ID
   FOREIGN KEY (language_id)
   REFERENCES LANGUAGES(id);

ALTER TABLE DRIVERS
ADD CONSTRAINT FK_COUNTRY_ID
   FOREIGN KEY (country_id)
   REFERENCES COUNTRIES(id);

ALTER TABLE  BANK_OWNERS
ADD CONSTRAINT FK_OWNER_ID
   FOREIGN KEY (owner_id)
   REFERENCES OWNERS(id);


ALTER TABLE  BANK_OWNERS
ADD CONSTRAINT FK_BANK_ID
   FOREIGN KEY (bank_id)
   REFERENCES BANKS(id);

ALTER TABLE  VEHICLES_DRIVERS
ADD CONSTRAINT FK_VEHICLE_ID
   FOREIGN KEY (vehicle_id)
   REFERENCES VEHICLES(id);

ALTER TABLE  VEHICLES_DRIVERS
ADD CONSTRAINT FK_DRIVER_ID
   FOREIGN KEY (driver_id)
   REFERENCES DRIVERS(id);




